<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <title>Javascript Assignment Day 16</title>
        <script>
            function validateDate(inputText) {
                var datepattern = /^(\d{1,2})(\/|-)(\d{1,2})(\/|-)(\d{4})$/;
                if(inputText.value.match(datepattern)) {
                    var datesplit = inputText.value.split('/');
                    var month=parseInt(datesplit[0]);
                    var days=parseInt(datesplit[1]);
                    var years=parseInt(datesplit[2]);
                    
                    if(month<1 || month>12) {
                        document.getElementById("errmsg").innerHTML="Please enter valid month";
                        return false;
                    }
                    else if (days<1 || days>31) {
                        document.getElementById("errmsg").innerHTML="Please enter valid day";
                        return false;
                    }
                    else if ((month==4 || month==6 || month==9 || month==11) && days==31) {
                        document.getElementById("errmsg").innerHTML="Please enter valid day according to entered month";
                        return false;
                    }
                    else if (month==2) { 
                        var leap=(years%4==0 && (years%100!=0 || years%400==0));
                        if (days>29 || (days==29 && !leap)) {
                            document.getElementById("errmsg").innerHTML="Please enter valid month & day according to year";
                            return false;
                        }
                        else {
                            return true;
                        }
                    }
                    else {
                        return true;
                    }
                }
                else {
                    alert("Invalid date format!");
                    return false;
                }
            }
        </script>
    </head>
    <body>
        <div class="container text-center">
            <form name="form1" class="form-group mt-5">
                <label class="text-primary mb-3" for="date">Please enter the date in MM-DD-YYYY format:</label>
                <input type="text" class="form-control" id="validDate" name="text1" required>
                <button class="btn btn-primary mt-5" id="checkValidity" onclick="return validateDate(document.form1.text1)" type="submit">Check Validity</button>
            </form>
            <p id="errmsg" class="text-danger"></p>
        </div>
    </body>
</html>
