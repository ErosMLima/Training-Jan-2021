<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.16.0/umd/popper.min.js"></script>
        <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
        <title>Practise Exercise Day 20</title>
        <script>

            //Kept JSON Data into a file, used Web Fetch API read that data.
            async function getText(file) {
                let Object = await fetch(file);
                let text = await Object.text();
                document.getElementById("demo").innerHTML="File Content: " + "<br>" + text;
            }

            //Stored JSON data into localstorage,reading that data and print it into console.
            function getdata() {
                if(typeof(Storage)!=="undefined") {
                    localStorage.setItem("Name", "Cheese");
                    localStorage.setItem("Price",2.50);
                    var a=new Array(2);
                    a[0]=localStorage.getItem("Name");
                    a[1]=localStorage.getItem("Price");
                    console.log("Name: " + a[0]);
                    console.log("Price: " + a[1]);
                }
                else {
                    document.getElementById("demo").innerHTML = "Sorry, your browser does not support Web Storage";
                }
            }

            //Web Geolocation API
            function showLocation() {
                if (navigator.geolocation)
                    navigator.geolocation.getCurrentPosition(showPosition);
                else { 
                    x.innerHTML = "Geolocation is not supported by this browser.";
                }
            }
            function showPosition(position) {
                var x = document.getElementById("msg");
                var y = document.getElementById("msg1");
                x.innerHTML = "Latitude: " + position.coords.latitude;
                y.innerHTML = "Longitude: " + position.coords.longitude;
            }
        </script>
    </head>
    <body>
        <div class="container text-center">
            <!--Kept JSON Data into a file, used Web Fetch API read that data.-->
            <button class="btn-danger mt-5" onclick="getText('data.json')">Show file Content</button>

            <!--Store following JSON data into localstorage,read that data and print it into console.-->
            <button class="btn-success mt-5" onclick="getdata()">Show Local Storage Content</button>

            <!--Web Geolocation API-->
            <button class="btn-primary mt-5" onclick="showLocation()">Show My Location</button>
            
            <p class="mt-5" id="demo"></p>
            <p class="mt-5" id="msg"></p>
            <p class="mt-1" id="msg1"></p>
        </div>
    </body>
</html>
