<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="../../css/font-awesome.min.css">
    <link rel="stylesheet" href="../../css/bootstrap.css">
    <link rel="stylesheet" href="../../css/style.css">
    <title>JS practice</title>
</head>
<body>
    <nav class="navbar navbar-expand-md navbar-dark bg-dark fixed-top">
        <div class="container">
            <a href="" class="navbar-brand">
                <img src="../../img/logo.jpg" alt="" class="img-fluid" height="100px" width="100px" style="box-shadow: 0 0 20px #fff;">
            </a>
            <button class=" navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarnav1"><span
                    class="navbar-toggler-icon"></span></button>
            <div class=" navbar-collapse collapse" id="navbarnav1">
                <ul class="navbar-nav ml-auto">
                    <li class="nav-item"><a href="/index.html" class="nav-link">Home</a></li>
                    <li class="nav-item"><a href="../../html_work/index.html" class="nav-link">HTML</a></li>
                    <li class="nav-item"><a href="../../css_work/index.html" class="nav-link">CSS</a></li>
                    <li class="nav-item"><a href="../../bootstrap_work/index.html" class="nav-link">Bootstrap</a></li>
                    <li class="nav-item"><a href="../../index.html" class="nav-link">JavaScript</a></li>
                    <<li class="nav-item"><a href="../../jquery_work/index.html" class="nav-link">JQuery</a></li>
                    <li class="nav-item"><a href="../../mini_project_work/index.html" class="nav-link">Mini Project</a></li>
                    <li class="nav-item"><a href="../index.html" class="nav-link">SQL</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <div class="row" style="margin-top: 89px !important;">
        <div id="side-nav" class="col-12 col-lg-3 bg-secondary m-3 p-3" >
            <ul>
                <li>
                    Day 1
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day1/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day1/practice1.html">Practice 1</a></li>
                                <li><a href="../day1/practice2.html">Practice 2</a></li>
                                <li><a href="../day1/practice3.html">Practice 3</a></li>
                                <li><a href="../day1/practice4.html">Practice 4</a></li>
                                <li><a href="../day1/practice5.html">Practice 5</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 2
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day2/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day2/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 3
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day3/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day3/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 4
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day4/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day4/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 5
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day5/assignment.html">Assignment 1</a></li>
                                <li><a href="../day5/assignment_extra.html">Assignment Extra</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 6
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day6/assignment.html">Assignment 1</a></li>
                                <li><a href="../day6/assignment_extra1.html">Sub Queries Extra</a></li>
                                <li><a href="../day6/assignment_extra2.html">Views Extra</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 7
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day7/assignment_d4.html">Assignment 1 (Day4 with CTE)</a></li>
                                <li><a href="../day7/assignment_d5.html">Assignment 2 (Day5 with CTE)</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day7/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 8
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day8/assignment.html">Assignment 1</a></li>
                                <li><a href="../day8/assignment_answers.html">SQL MTA Answers</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 9
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day9/assignment1.html">Assignment 1</a></li>
                                <li><a href="../day9/assignment2.html">Assignment 2</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day9/practice1.html">Practice 1</a></li>
                                <li><a href="../day9/practice2.html">Practice 2</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 10
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day10/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 11
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day11/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day11/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 12
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day12/database.html">Assignment 1 Database</a></li>
                                <li><a href="../day12/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 13
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day13/database.html">Assignment 1 Database</a></li>
                                <li><a href="../day13/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day13/practice1.html">Practice 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 14
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day14/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 15
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day15/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                        <li>
                            Practice
                            <ul>
                                <li><a href="../day15/practice1.html">Practice 1 Transaction</a></li>
                                <li><a href="../day15/practice2.html">Practice 1 Query to check Transition</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
                <li>
                    Day 18
                    <ul>
                        <li>
                            Assignment
                            <ul>
                                <li><a href="../day18/assignment.html">Assignment 1</a></li>
                            </ul>
                        </li>
                    </ul>
                </li>
            </ul>
        </div>
    </div>

    <div id="body-content" class="offset-lg-3 col-12 col-lg-9 my-5">
       <pre>
        USE [master]
        GO
        /****** Object:  Database [SQLDay5]    Script Date: 10-03-2021 13:13:10 ******/
        CREATE DATABASE [SQLDay5]
         CONTAINMENT = NONE
         ON  PRIMARY 
        ( NAME = N'SQLDay5', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\SQLDay5.mdf' , SIZE = 8192KB , MAXSIZE = UNLIMITED, FILEGROWTH = 65536KB )
         LOG ON 
        ( NAME = N'SQLDay5_log', FILENAME = N'C:\Program Files\Microsoft SQL Server\MSSQL15.SQLEXPRESS\MSSQL\DATA\SQLDay5_log.ldf' , SIZE = 8192KB , MAXSIZE = 2048GB , FILEGROWTH = 65536KB )
         WITH CATALOG_COLLATION = DATABASE_DEFAULT
        GO
        ALTER DATABASE [SQLDay5] SET COMPATIBILITY_LEVEL = 150
        GO
        IF (1 = FULLTEXTSERVICEPROPERTY('IsFullTextInstalled'))
        begin
        EXEC [SQLDay5].[dbo].[sp_fulltext_database] @action = 'enable'
        end
        GO
        ALTER DATABASE [SQLDay5] SET ANSI_NULL_DEFAULT OFF 
        GO
        ALTER DATABASE [SQLDay5] SET ANSI_NULLS OFF 
        GO
        ALTER DATABASE [SQLDay5] SET ANSI_PADDING OFF 
        GO
        ALTER DATABASE [SQLDay5] SET ANSI_WARNINGS OFF 
        GO
        ALTER DATABASE [SQLDay5] SET ARITHABORT OFF 
        GO
        ALTER DATABASE [SQLDay5] SET AUTO_CLOSE OFF 
        GO
        ALTER DATABASE [SQLDay5] SET AUTO_SHRINK OFF 
        GO
        ALTER DATABASE [SQLDay5] SET AUTO_UPDATE_STATISTICS ON 
        GO
        ALTER DATABASE [SQLDay5] SET CURSOR_CLOSE_ON_COMMIT OFF 
        GO
        ALTER DATABASE [SQLDay5] SET CURSOR_DEFAULT  GLOBAL 
        GO
        ALTER DATABASE [SQLDay5] SET CONCAT_NULL_YIELDS_NULL OFF 
        GO
        ALTER DATABASE [SQLDay5] SET NUMERIC_ROUNDABORT OFF 
        GO
        ALTER DATABASE [SQLDay5] SET QUOTED_IDENTIFIER OFF 
        GO
        ALTER DATABASE [SQLDay5] SET RECURSIVE_TRIGGERS OFF 
        GO
        ALTER DATABASE [SQLDay5] SET  DISABLE_BROKER 
        GO
        ALTER DATABASE [SQLDay5] SET AUTO_UPDATE_STATISTICS_ASYNC OFF 
        GO
        ALTER DATABASE [SQLDay5] SET DATE_CORRELATION_OPTIMIZATION OFF 
        GO
        ALTER DATABASE [SQLDay5] SET TRUSTWORTHY OFF 
        GO
        ALTER DATABASE [SQLDay5] SET ALLOW_SNAPSHOT_ISOLATION OFF 
        GO
        ALTER DATABASE [SQLDay5] SET PARAMETERIZATION SIMPLE 
        GO
        ALTER DATABASE [SQLDay5] SET READ_COMMITTED_SNAPSHOT OFF 
        GO
        ALTER DATABASE [SQLDay5] SET HONOR_BROKER_PRIORITY OFF 
        GO
        ALTER DATABASE [SQLDay5] SET RECOVERY SIMPLE 
        GO
        ALTER DATABASE [SQLDay5] SET  MULTI_USER 
        GO
        ALTER DATABASE [SQLDay5] SET PAGE_VERIFY CHECKSUM  
        GO
        ALTER DATABASE [SQLDay5] SET DB_CHAINING OFF 
        GO
        ALTER DATABASE [SQLDay5] SET FILESTREAM( NON_TRANSACTED_ACCESS = OFF ) 
        GO
        ALTER DATABASE [SQLDay5] SET TARGET_RECOVERY_TIME = 60 SECONDS 
        GO
        ALTER DATABASE [SQLDay5] SET DELAYED_DURABILITY = DISABLED 
        GO
        ALTER DATABASE [SQLDay5] SET QUERY_STORE = OFF
        GO
        USE [SQLDay5]
        GO
        /****** Object:  Table [dbo].[Cars]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Cars](
            [CarID] [int] NOT NULL,
            [VIN] [int] NOT NULL,
            [Make] [nvarchar](50) NOT NULL,
            [Model] [nvarchar](50) NOT NULL,
            [Year] [numeric](4, 0) NOT NULL,
            [Mileage] [float] NOT NULL,
            [AskPrice] [float] NOT NULL,
            [InvoicePrice] [float] NOT NULL,
         CONSTRAINT [PK_Cars] PRIMARY KEY CLUSTERED 
        (
            [VIN] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Customers]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Customers](
            [CustomerID] [int] NOT NULL,
            [Name] [nvarchar](50) NOT NULL,
            [Address] [varchar](50) NOT NULL,
            [City] [varchar](50) NULL,
            [State] [varchar](50) NULL,
         CONSTRAINT [PK_Customers] PRIMARY KEY CLUSTERED 
        (
            [CustomerID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Dealerships]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Dealerships](
            [DealershipID] [int] NOT NULL,
            [Name] [varchar](50) NOT NULL,
            [Address] [varchar](50) NOT NULL,
            [City] [varchar](50) NOT NULL,
            [State] [varchar](50) NOT NULL,
         CONSTRAINT [PK_Dealerships] PRIMARY KEY CLUSTERED 
        (
            [DealershipID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Employees]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Employees](
            [EmployeeID] [decimal](6, 0) NOT NULL,
            [FirstName] [varchar](20) NULL,
            [LastName] [varchar](25) NOT NULL,
            [JoiningDate] [date] NOT NULL,
            [Salary] [int] NULL,
            [ManagerID] [int] NULL,
            [Department] [varchar](20) NULL,
         CONSTRAINT [pkEmployeeID] PRIMARY KEY CLUSTERED 
        (
            [EmployeeID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Incentives]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Incentives](
            [IncentiveID] [int] NULL,
            [EmployeeRefID] [decimal](6, 0) NULL,
            [IncentiveDate] [date] NULL,
            [IncentiveAmount] [int] NULL
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Inventory]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Inventory](
            [InventoryID] [int] NOT NULL,
            [VIN] [int] NOT NULL,
            [DealershipID] [int] NOT NULL,
         CONSTRAINT [PK_Inventory] PRIMARY KEY CLUSTERED 
        (
            [InventoryID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[ReportsTo]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[ReportsTo](
            [ReportsToID] [int] NOT NULL,
            [SalesPersonID] [int] NOT NULL,
            [ManagingSalesPersonID] [int] NOT NULL,
         CONSTRAINT [PK_ReportsTo] PRIMARY KEY CLUSTERED 
        (
            [ReportsToID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[Sales]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[Sales](
            [SaleID] [int] NOT NULL,
            [VIN] [int] NOT NULL,
            [CustomerID] [int] NOT NULL,
            [SalesPersonID] [int] NOT NULL,
            [DealershipID] [int] NOT NULL,
            [SalePrice] [int] NOT NULL,
            [SaleDate] [date] NOT NULL,
         CONSTRAINT [PK_Sales] PRIMARY KEY CLUSTERED 
        (
            [SaleID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[SalesPersons]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[SalesPersons](
            [SalesPersonID] [int] NOT NULL,
            [Name] [varchar](50) NOT NULL,
         CONSTRAINT [PK_SalesPersons] PRIMARY KEY CLUSTERED 
        (
            [SalesPersonID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        /****** Object:  Table [dbo].[WorksAt]    Script Date: 10-03-2021 13:13:10 ******/
        SET ANSI_NULLS ON
        GO
        SET QUOTED_IDENTIFIER ON
        GO
        CREATE TABLE [dbo].[WorksAt](
            [WorksAtID] [int] NOT NULL,
            [SalesPersonID] [int] NOT NULL,
            [DealershipID] [int] NOT NULL,
            [MonthWorked] [int] NOT NULL,
            [BaseSalaryForMonth] [int] NOT NULL,
         CONSTRAINT [PK_WorksAt] PRIMARY KEY CLUSTERED 
        (
            [WorksAtID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, IGNORE_DUP_KEY = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        ) ON [PRIMARY]
        GO
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (1, 1, N'Nissan', N'GT-R', CAST(2016 AS Numeric(4, 0)), 5, 20000000, 22000000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (2, 2, N'Ford', N'GT', CAST(2018 AS Numeric(4, 0)), 6, 12000000, 13000000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (3, 3, N'Ferrari', N'GTO', CAST(2018 AS Numeric(4, 0)), 8, 20000000, 21000000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (4, 4, N'Toyota', N'Prius', CAST(2020 AS Numeric(4, 0)), 15, 1000000, 1100000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (5, 5, N'Honda', N'Civic', CAST(2018 AS Numeric(4, 0)), 12, 1500000, 1600000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (6, 6, N'Hyundai', N'Sonata', CAST(2020 AS Numeric(4, 0)), 10, 2000000, 2050000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (7, 7, N'Hyundai', N'Grand i10', CAST(2016 AS Numeric(4, 0)), 18, 700000, 750000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (8, 8, N'Toyota', N'Camry', CAST(2018 AS Numeric(4, 0)), 12, 2400000, 2450000)
        INSERT [dbo].[Cars] ([CarID], [VIN], [Make], [Model], [Year], [Mileage], [AskPrice], [InvoicePrice]) VALUES (9, 9, N'Toyota', N'Camry', CAST(2018 AS Numeric(4, 0)), 12.5, 2410000, 2460000)
        GO
        INSERT [dbo].[Customers] ([CustomerID], [Name], [Address], [City], [State]) VALUES (1, N'Milit', N'Gondal Rd.', N'Rajkot', N'Gujarat')
        INSERT [dbo].[Customers] ([CustomerID], [Name], [Address], [City], [State]) VALUES (2, N'Raj', N'S. G. Highway', N'Ahmedabad', N'Gujarat')
        INSERT [dbo].[Customers] ([CustomerID], [Name], [Address], [City], [State]) VALUES (3, N'Udit', N'XYZ', N'Delhi', N'Delhi')
        GO
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (1, N'Nissan Cars', N'S. G. Highway', N'Ahmedabad', N'Gujarat')
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (2, N'Ferrari Sales', N'XYZ', N'Mumbai', N'Maharastra')
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (3, N'Ford', N'Gondal Rd.', N'Rajkot', N'Gujarat')
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (4, N'Hero Honda Car World', N'Gondal Rd.', N'Rajkot', N'Gujarat')
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (5, N'Concept Hyundai', N'Paldi', N'Ahmedabad', N'Gujarat')
        INSERT [dbo].[Dealerships] ([DealershipID], [Name], [Address], [City], [State]) VALUES (6, N'Toyota Performance', N'Paldi', N'Ahmedabad', N'Gujarat')
        GO
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(1 AS Decimal(6, 0)), N'John', N'Abraham', CAST(N'2013-01-01' AS Date), 1000000, NULL, N'Banking')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(2 AS Decimal(6, 0)), N'Michael', N'Clarke', CAST(N'2013-01-01' AS Date), 800000, 1, N'Insurance')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(3 AS Decimal(6, 0)), N'Roy', N'Thomas', CAST(N'2013-02-01' AS Date), 700000, 1, N'Banking')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(4 AS Decimal(6, 0)), N'Tom', N'Jose', CAST(N'2013-02-01' AS Date), 600000, 2, N'Insurance')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(5 AS Decimal(6, 0)), N'Jerry', N'Pinto', CAST(N'2013-02-01' AS Date), 650000, 3, N'Insurance')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(6 AS Decimal(6, 0)), N'Philip', N'Mathew', CAST(N'2013-01-01' AS Date), 750000, 3, N'Services')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(7 AS Decimal(6, 0)), N'TestName1', N'123', CAST(N'2013-01-01' AS Date), 650000, 2, N'Services')
        INSERT [dbo].[Employees] ([EmployeeID], [FirstName], [LastName], [JoiningDate], [Salary], [ManagerID], [Department]) VALUES (CAST(8 AS Decimal(6, 0)), N'TestName2', N'Lname%', CAST(N'2013-02-01' AS Date), 600000, 2, N'Insurance')
        GO
        INSERT [dbo].[Incentives] ([IncentiveID], [EmployeeRefID], [IncentiveDate], [IncentiveAmount]) VALUES (1, CAST(1 AS Decimal(6, 0)), CAST(N'2013-02-01' AS Date), 5000)
        INSERT [dbo].[Incentives] ([IncentiveID], [EmployeeRefID], [IncentiveDate], [IncentiveAmount]) VALUES (2, CAST(2 AS Decimal(6, 0)), CAST(N'2013-02-01' AS Date), 3000)
        INSERT [dbo].[Incentives] ([IncentiveID], [EmployeeRefID], [IncentiveDate], [IncentiveAmount]) VALUES (3, CAST(3 AS Decimal(6, 0)), CAST(N'2013-02-01' AS Date), 4000)
        INSERT [dbo].[Incentives] ([IncentiveID], [EmployeeRefID], [IncentiveDate], [IncentiveAmount]) VALUES (4, CAST(1 AS Decimal(6, 0)), CAST(N'2013-01-01' AS Date), 4500)
        INSERT [dbo].[Incentives] ([IncentiveID], [EmployeeRefID], [IncentiveDate], [IncentiveAmount]) VALUES (5, CAST(2 AS Decimal(6, 0)), CAST(N'2013-01-01' AS Date), 3500)
        GO
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (1, 1, 1)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (2, 2, 3)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (3, 3, 2)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (4, 5, 4)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (5, 4, 6)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (6, 6, 5)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (7, 7, 5)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (8, 8, 6)
        INSERT [dbo].[Inventory] ([InventoryID], [VIN], [DealershipID]) VALUES (9, 9, 6)
        GO
        INSERT [dbo].[ReportsTo] ([ReportsToID], [SalesPersonID], [ManagingSalesPersonID]) VALUES (1, 1, 2)
        INSERT [dbo].[ReportsTo] ([ReportsToID], [SalesPersonID], [ManagingSalesPersonID]) VALUES (2, 3, 7)
        INSERT [dbo].[ReportsTo] ([ReportsToID], [SalesPersonID], [ManagingSalesPersonID]) VALUES (3, 5, 4)
        INSERT [dbo].[ReportsTo] ([ReportsToID], [SalesPersonID], [ManagingSalesPersonID]) VALUES (4, 6, 4)
        INSERT [dbo].[ReportsTo] ([ReportsToID], [SalesPersonID], [ManagingSalesPersonID]) VALUES (5, 10, 7)
        GO
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (1, 1, 1, 1, 1, 30000000, CAST(N'2019-01-01' AS Date))
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (2, 1, 2, 1, 1, 31000000, CAST(N'2019-05-01' AS Date))
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (3, 2, 3, 6, 3, 24000000, CAST(N'2020-05-01' AS Date))
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (4, 3, 1, 7, 2, 30000000, CAST(N'2020-10-17' AS Date))
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (5, 7, 3, 9, 5, 780000, CAST(N'2018-01-15' AS Date))
        INSERT [dbo].[Sales] ([SaleID], [VIN], [CustomerID], [SalesPersonID], [DealershipID], [SalePrice], [SaleDate]) VALUES (6, 6, 1, 8, 5, 2000000, CAST(N'2020-10-10' AS Date))
        GO
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (1, N'Mike')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (2, N'John')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (3, N'Sheldon')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (4, N'George')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (5, N'Lisa')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (6, N'Neil')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (7, N'Adam Smith')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (8, N'X')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (9, N'Y')
        INSERT [dbo].[SalesPersons] ([SalesPersonID], [Name]) VALUES (10, N'Z')
        GO
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (1, 1, 1, 8, 12000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (2, 2, 1, 13, 15000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (3, 3, 2, 12, 14000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (4, 4, 3, 134, 25000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (5, 5, 3, 2, 8000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (6, 6, 3, 14, 15000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (7, 7, 2, 134, 35000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (8, 8, 5, 25, 30000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (9, 9, 5, 15, 20000)
        INSERT [dbo].[WorksAt] ([WorksAtID], [SalesPersonID], [DealershipID], [MonthWorked], [BaseSalaryForMonth]) VALUES (10, 10, 2, 10, 20000)
        GO
        /****** Object:  Index [IX_Cars]    Script Date: 10-03-2021 13:13:10 ******/
        ALTER TABLE [dbo].[Cars] ADD  CONSTRAINT [IX_Cars] UNIQUE NONCLUSTERED 
        (
            [CarID] ASC
        )WITH (PAD_INDEX = OFF, STATISTICS_NORECOMPUTE = OFF, SORT_IN_TEMPDB = OFF, IGNORE_DUP_KEY = OFF, ONLINE = OFF, ALLOW_ROW_LOCKS = ON, ALLOW_PAGE_LOCKS = ON, OPTIMIZE_FOR_SEQUENTIAL_KEY = OFF) ON [PRIMARY]
        GO
        ALTER TABLE [dbo].[Employees] ADD  DEFAULT ('0') FOR [EmployeeID]
        GO
        ALTER TABLE [dbo].[Employees] ADD  DEFAULT (NULL) FOR [FirstName]
        GO
        ALTER TABLE [dbo].[Employees] ADD  DEFAULT (NULL) FOR [Salary]
        GO
        ALTER TABLE [dbo].[Employees] ADD  DEFAULT (NULL) FOR [ManagerID]
        GO
        ALTER TABLE [dbo].[Employees] ADD  DEFAULT (NULL) FOR [Department]
        GO
        ALTER TABLE [dbo].[Inventory]  WITH CHECK ADD  CONSTRAINT [FK_Inventory_Cars] FOREIGN KEY([VIN])
        REFERENCES [dbo].[Cars] ([VIN])
        GO
        ALTER TABLE [dbo].[Inventory] CHECK CONSTRAINT [FK_Inventory_Cars]
        GO
        ALTER TABLE [dbo].[Inventory]  WITH CHECK ADD  CONSTRAINT [FK_Inventory_Dealerships] FOREIGN KEY([DealershipID])
        REFERENCES [dbo].[Dealerships] ([DealershipID])
        GO
        ALTER TABLE [dbo].[Inventory] CHECK CONSTRAINT [FK_Inventory_Dealerships]
        GO
        ALTER TABLE [dbo].[ReportsTo]  WITH CHECK ADD  CONSTRAINT [FK_SalesPersonID] FOREIGN KEY([SalesPersonID])
        REFERENCES [dbo].[SalesPersons] ([SalesPersonID])
        GO
        ALTER TABLE [dbo].[ReportsTo] CHECK CONSTRAINT [FK_SalesPersonID]
        GO
        ALTER TABLE [dbo].[Sales]  WITH CHECK ADD  CONSTRAINT [FK_Sales_Cars] FOREIGN KEY([VIN])
        REFERENCES [dbo].[Cars] ([VIN])
        GO
        ALTER TABLE [dbo].[Sales] CHECK CONSTRAINT [FK_Sales_Cars]
        GO
        ALTER TABLE [dbo].[Sales]  WITH CHECK ADD  CONSTRAINT [FK_Sales_Customers] FOREIGN KEY([CustomerID])
        REFERENCES [dbo].[Customers] ([CustomerID])
        GO
        ALTER TABLE [dbo].[Sales] CHECK CONSTRAINT [FK_Sales_Customers]
        GO
        ALTER TABLE [dbo].[Sales]  WITH CHECK ADD  CONSTRAINT [FK_Sales_Dealerships] FOREIGN KEY([DealershipID])
        REFERENCES [dbo].[Dealerships] ([DealershipID])
        GO
        ALTER TABLE [dbo].[Sales] CHECK CONSTRAINT [FK_Sales_Dealerships]
        GO
        ALTER TABLE [dbo].[Sales]  WITH CHECK ADD  CONSTRAINT [FK_Sales_SalesPersons] FOREIGN KEY([SalesPersonID])
        REFERENCES [dbo].[SalesPersons] ([SalesPersonID])
        GO
        ALTER TABLE [dbo].[Sales] CHECK CONSTRAINT [FK_Sales_SalesPersons]
        GO
        ALTER TABLE [dbo].[WorksAt]  WITH CHECK ADD  CONSTRAINT [FK_WorksAt_Dealerships] FOREIGN KEY([DealershipID])
        REFERENCES [dbo].[Dealerships] ([DealershipID])
        GO
        ALTER TABLE [dbo].[WorksAt] CHECK CONSTRAINT [FK_WorksAt_Dealerships]
        GO
        ALTER TABLE [dbo].[WorksAt]  WITH CHECK ADD  CONSTRAINT [FK_WorksAt_SalesPersons] FOREIGN KEY([SalesPersonID])
        REFERENCES [dbo].[SalesPersons] ([SalesPersonID])
        GO
        ALTER TABLE [dbo].[WorksAt] CHECK CONSTRAINT [FK_WorksAt_SalesPersons]
        GO
        USE [master]
        GO
        ALTER DATABASE [SQLDay5] SET  READ_WRITE 
        GO

        -- QUERIES --

        --1
        SELECT S.SalesPersonID, S.Name AS SalesPersonName, X.Name AS DealershipName 
        FROM SalesPersons S JOIN 
        (SELECT D.DealershipID, D.Name,W.SalesPersonID 
        FROM Dealerships D JOIN 
        WorksAt W ON D.DealershipID = W.DealershipID) AS X ON X.SalesPersonID = S.SalesPersonID;

        --2
        SELECT Name, Address, City, State FROM Customers WHERE City = 'Ahmedabad';

        --3
        SELECT C.VIN, C.make, C.model, C.year, C.mileage, X.Name AS Dealership FROM Cars C JOIN 
        (SELECT I.*, D.Name FROM Dealerships D JOIN Inventory I ON D.DealershipID = I.DealershipID) AS X 
        ON X.VIN = C.VIN
        WHERE X.Name = 'Hero Honda Car World';

        --4
        SELECT CC.CustomerID, CC.Name, Y.Name AS Dealership FROM Customers CC JOIN 
        (SELECT X.CustomerID, D.Name FROM Dealerships D JOIN 
        (SELECT S.*,C.Make FROM Sales S JOIN Cars C ON C.VIN = S.VIN) AS X 
        ON D.DealershipID = X.DealershipID WHERE D.Name = 'Concept Hyundai') AS Y 
        ON Y.CustomerID = CC.CustomerID;

        --5
        SELECT C.VIN, C.make, C.model, C.year, X.Name AS Dealership, X.Address, X.City, X.State FROM Cars C JOIN 
        (SELECT D.*, I.VIN FROM Dealerships D JOIN Inventory I ON D.DealershipID = I.DealershipID) AS X 
        ON X.VIN = C.VIN;

        --6
        SELECT * FROM SalesPersons WHERE SalesPersonID IN 
        (SELECT SalesPersonID FROM ReportsTo R WHERE R.ManagingSalesPersonID = 
        (SELECT S.SalesPersonID FROM SalesPersons S WHERE Name = 'Adam Smith'));

        --7
        SELECT * FROM SalesPersons WHERE SalesPersonID NOT IN (SELECT DISTINCT SalesPersonID FROM ReportsTo);

        --8
        SELECT COUNT(*) AS DealershipCount FROM Dealerships;

        --9
        SELECT C.VIN, C.make, C.model, C.year, C.Mileage FROM Cars C JOIN 
        (SELECT D.*, I.VIN FROM Dealerships D JOIN Inventory I ON D.DealershipID = I.DealershipID) AS X 
        ON X.VIN = C.VIN WHERE X.Name = 'Toyota Performance' AND C.Model = 'Camry';

        --10
        SELECT DISTINCT C.CustomerID, C.Name FROM Customers C JOIN 
        (SELECT D.State AS DealershiState, CustomerID FROM Dealerships D JOIN 
        Sales S ON D.DealershipID = S.DealershipID) AS X 
        ON X.CustomerID = C.CustomerID WHERE DealershiState <> State;

        --11
        SELECT TOP 1 S.*, X.BaseSalaryForMonth FROM SalesPersons S JOIN
        (SELECT W.SalesPersonID, W.BaseSalaryForMonth FROM WorksAt W JOIN 
        Dealerships D ON D.DealershipID = W.DealershipID 
        WHERE DATEDIFF(MM, '2010-01-01', GETDATE()) = W.MonthWorked AND D.Name = 'Ferrari Sales') AS X
        ON X.SalesPersonID = S.SalesPersonID ORDER BY BaseSalaryForMonth DESC;

        --12
        SELECT C.CustomerID, C.Name FROM Customers C JOIN 
        Sales S ON S.CustomerID = C.CustomerID WHERE S.SaleDate > '2020-01-01' 
        GROUP BY C.CustomerID, C.Name HAVING COUNT(C.CustomerID) > 2;

        --13
        SELECT S.SalesPersonID,SP.Name, SUM(S.SalePrice) AS TotalSale FROM Sales S JOIN 
        SalesPersons SP on S.SalesPersonID = SP.SalesPersonID GROUP BY S.SalesPersonID,SP.Name;

        --14
        SELECT * FROM SalesPersons WHERE Name IN (SELECT C.Name FROM Customers C JOIN 
        Sales S ON S.CustomerID = C.CustomerID WHERE DATEPART(YYYY, S.SaleDate) = 2010);

        --15
        SELECT TOP 1 X.SalesPersonID, X.Name FROM Dealerships D JOIN 
        (SELECT S.DealershipID,SP.Name,SP.SalesPersonID, MAX(S.SalePrice) AS SalePrice FROM Sales S 
        JOIN SalesPersons SP on S.SalesPersonID = SP.SalesPersonID 
        GROUP BY S.DealershipID,SP.Name, SP.SalesPersonID) AS X 
        ON X.DealershipID = D.DealershipID 
        WHERE State = 'Gujarat' ORDER BY SalePrice DESC

        --16
        SELECT SP.SalesPersonID, SP.Name,
        SUM(ISNULL(W.BaseSalaryForMonth, 0) + ISNULL(((C.AskPrice - C.InvoicePrice) * 5 / 100), 0)) 'Gross Pay'
        FROM SalesPersons SP
        LEFT JOIN Sales S ON S.SalesPersonID = SP.SalesPersonID
        LEFT JOIN Cars C ON C.VIN = S.VIN
        RIGHT JOIN WorksAt W ON W.SalesPersonID = SP.SalesPersonID
        WHERE DATENAME(MM, S.SaleDate) = 'March' AND YEAR(s.saledate) = 2010
        GROUP BY SP.SalesPersonID, SP.Name
        ORDER BY SP.SalesPersonID;

       </pre>


    </div>
    <script src="../../js/jquery.min.js"></script>
    <script src="../../js/popper.min.js"></script>
    <script src="../../js/bootstrap.min.js"></script>
</body>
</html>