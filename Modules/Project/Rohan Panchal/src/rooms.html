<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flight Booking , Flight Tickets, Booking at Lowest Airfare | MakeMyTrip</title>
    <link rel="icon" href="img/title_img.png">
    <link rel="stylesheet" href="css/font-awesome.min.css">
    <link rel="stylesheet" href="css/bootstrap.css">
    <link rel="stylesheet" href="css/style.css">
    <script src="js/jquery.min.js"></script>
    <style>
        #andar .dropdown-toggle
        {
            color: aliceblue;
        }
        .hotelsclass:hover{
            cursor: pointer;
            position: static;
            background-color: rgb(235, 238, 241);
        }
    </style>
</head>
<body>
    <nav id="navbar_top" class="navbar navbar-expand-lg navbar-light bg-light px-0 d-none shadow-lg">
        <div class="container">
            <a class="navbar-brand"><img class="img-fluid p-0" style="height: 40px;" src="img/logo@2x.png" alt=""></a>
           
            <button class="navbar-toggler" data-target="#my-nav" data-toggle="collapse" aria-controls="my-nav" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div id="my-nav" class="collapse navbar-collapse">
                <ul class="navbar-nav">
                    <li class="nav-item d-inline-block px-2">
                        <a class="nav-link" href="#"><i class="fa fa-plane fa-2x text-dark" aria-hidden="true"></i>
                       <p>Flights</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="hotels/index.html"><i class="fa fa-building-o fa-2x text-dark" aria-hidden="true"></i> <p>Hotels</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#villas"><i class="fa fa-home fa-2x text-dark" aria-hidden="true"></i><p>Villas & Apts</p></a>
                    </li>
                    <li class="nav-item px-2 my-0">
                        <a class="nav-link" href="#"> <i class="fa fa-building-o fa-2x text-dark" aria-hidden="true"></i> <p>Holidays</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#"> <i class="fa fa-train fa-2x text-dark" aria-hidden="true"></i> <p>Trains</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#"> <i class="fa fa-bus fa-2x text-dark" aria-hidden="true"></i> <p>Buses</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#"> <i class="fa fa-id-badge fa-2x text-dark" aria-hidden="true"></i> <p>Visa</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#"> <i class="fa fa-taxi fa-2x text-dark" aria-hidden="true"></i> <p>Cabs</p></a>
                    </li>
                    <li class="nav-item px-2">
                        <a class="nav-link" href="#"> <i class="fa fa-fighter-jet fa-2x text-dark" aria-hidden="true"></i><p>Charter Flights</p></a>
                    </li>
                </ul>
            </div>
        </div>
                
            
            <div class="d-none d-lg-block">
                <ul class="d-flex  list-unstyled">
                    <li><button class="btn btn-primary">Login or Create Account</button></li>
                    <li> <div class="dropdown">
                        <a class="btn btn-white dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                           <span class="">IN</span>
                        </a>
                        <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                          <a class="dropdown-item" href="#">INDIA</a>
                          <a class="dropdown-item" href="#">UAE</a>
                          <a class="dropdown-item" href="#">US</a>
                        </div>
                      </div>
                    </li>
                </ul>   
            </div>
                
        
       
    </nav>
    <!-- flights -->
    <!-- Hotels -->
    
   

<section class="container-fluid" style="background-color: rgba(5, 6, 31, 0.76); position:absolute;box-shadow: 10px 10px 70px 10px rgb(0, 0, 0);height: 200px;"> 
    <div class="w-100">
        <a class="navbar-brand text-end text-white"><img class="img-fluid" src="img/mmtLogoWhite.png" style="height: 40px;" alt=""></a>
        
       <ul class="list-unstyled float-right d-flex row pr-5 mr-3">
         
            <li id="login" class="text-white px-2 my-1"> <button class="btn btn-secondary">Login or Create Account</button> </li>
           <li class="text-white px-2 my-1" id="loggedin">
            <div class="dropdown" id="andar">
                <a class="btn btn-white dropdown-toggle" style="background-color: rgb(68, 82, 107);" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                   <span class="text-white px-4" >Hey, </span>
                </a>
                <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                  <a class="dropdown-item p-3" href="#">My Profile</a>
                  <a class="dropdown-item p-3" href="#">Logout</a>
                </div>
              </div>
           </li>
           <li class="text-white px-2 my-1">
            <div class="dropdown">
               
                 <a class="btn btn-white dropdown-toggle" style="background-color: rgb(68, 82, 107);" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                 <span class="text-white">IN</span>
                 </a>
                 <div class="dropdown-menu" aria-labelledby="dropdownMenuLink">
                 <a class="dropdown-item" href="#">INDIA</a>
                 <a class="dropdown-item" href="#">UAE</a>
                 <a class="dropdown-item" href="#">US</a>
                 </div>
             </div>
         </li>
       </ul>
    </div>
      
</section>
<article class="px-4" style="background-color: navy;padding-top: 120px; padding-bottom: 20px;padding-left: 0px;">
   <div class="card rounded-3" style="border-radius:1rem;">
       <div class="card-body">
           <div class="container-fluid">
            <div class="card shadow-lg bg-body m-auto" style="border-radius:0.7rem;top: -70px;width: 85%;border:0px solid rgba(5, 6, 31, 0.76);">
                <div class="card-body text-nowrap text-center p-1 rounded-3">
                    <div class="row ">
                        <style>
                            .nav-link{
                                color: black;
                                font-size: 12px;
                            }
                        </style>
                        <div class="col m-auto">
                            <a class="nav-link" href="#"><i class="fa fa-plane fa-2x text-dark" aria-hidden="true"></i>
                                <p>Flights</p></a>
                        </div>
                        <div class="col m-auto">
                            <a class="nav-link active " href="hotels/index.html" style="border-bottom: 3px solid #007bff !important;"><i class="fa fa-building-o fa-2x text-primary" aria-hidden="true"></i> <p class="text-primary">Hotels</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#villas"><i class="fa fa-home fa-2x text-dark" aria-hidden="true"></i><p>Villas & Apts</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-building-o fa-2x text-dark" aria-hidden="true"></i> <p>Holidays</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-train fa-2x text-dark" aria-hidden="true"></i> <p>Trains</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-bus fa-2x text-dark" aria-hidden="true"></i> <p>Buses</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-id-badge fa-2x text-dark" aria-hidden="true"></i> <p>Visa</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-taxi fa-2x text-dark" aria-hidden="true"></i> <p>Cabs</p></a>
                        </div>
                        <div class="col mx-auto">
                            <a class="nav-link" href="#"> <i class="fa fa-fighter-jet fa-2x text-dark" aria-hidden="true"></i><p>Charter Flights</p></a>
                        </div>
                    </div>
                    
                </div>
            </div>
           </div>
           <h5 class="card-title"></h5>
           
           <p class="card-text">
               <div class="row">
                   <div class="col-5  border border-dark">
                       <div style="position: relative;top: 50px;" class="h4 text-wrap"> City/State</div>
                     
                        <div class="form-group">
                            <select name="" style="height: 120px;margin-left:-15px;" id="cities" class="form-control">
                                
                            </select>
                        </div>
                   </div>
                   <div class="col-2  border border-dark">
                        Checkin
                    </div>
                    <div class="col-2  border border-dark">
                        checkout
                    </div>
                    <div class="col-3  border border-dark">
                        rooms & guests
                    </div>
               </div>
           </p>
       </div>
    </div>
    <div class="text-center">
        <button  style="top: -25px;position:relative;" onclick="hotelsload()" class="btn btn-primary btn-lg rounded-pill px-5 py-2" type="button">Search</button>
    </div>
</article>
    
    <div class="container-fluid p-4" id="hotels">
        
    </div>
    

    <!-- Footer Section --> 
        <div class="container-fluid bg-dark ">
            <div class="text-white p-5 row text-center">
                <div class="col-md-6 pt-3">
                    <p class="float-md-left"> <i class="fa px-3 fa-twitter fa-2x text-center" aria-hidden="true"></i>
                        <i class="fa px-3 fa-facebook fa-2x  text-center" aria-hidden="true"></i>
                    </p>
                </div>
                <div class="col-md-6">
                    <p class="text-black float-md-right"> 2020 MAKEMYTRIP PVT. LTD. <br> Country India USA UAE</p>
                </div>
            </div>
        </div>
    
    <script src="js/popper.min.js"></script>
    <script src="js/bootstrap.min.js"></script>
</body>
</html>
<script>
var path = window.location.href;
var arraypath = path.split("?");
var keys = arraypath[1].split("&");
var state = keys[0].split('=')[1];
var city = keys[1].split("=")[1];

$(document).ready(function(){
    getcity = JSON.parse(localStorage.getItem('cities'));
    getstate = JSON.parse(localStorage.getItem('states'));
    var optgroup="<option value=''>Select a City</option>";

    for(obj in getstate)
    {
      var state = getstate[obj];
      optgroup += "<optgroup label='"+state+"'>";
        for(obj2 in getcity)
        {
            if(getcity[obj2].stateName === state)
            {
                if(getcity[obj2].cityName === city)
                {
                    optgroup+="<option selected value='"+JSON.stringify(getcity[obj2])+"'>"+getcity[obj2].cityName+"</option>";
                }
                else
                {
                    optgroup+="<option value='"+JSON.stringify(getcity[obj2])+"'>"+getcity[obj2].cityName+"</option>";
                }
            }
        }
        optgroup+="</optgroup>";
    }
    document.getElementById('cities').innerHTML=optgroup;

   

    var Data = JSON.parse(localStorage.getItem('hotels')) || [];
  
    var row=[];
    var hoteldata = "";
    for(obj in Data)
    {
        //console.log(JSON.parse(Data[obj]));
        row[obj]='<div id="'+JSON.parse(Data[obj]).hotelName+'" class="carousel slide" data-bs-ride="carousel">'+
        '<div class="carousel-inner" id="loadImages">';
            for(let i=0;i<JSON.parse(Data[obj]).hotelImage.length;i++)
            {
                if(i==0)
                {
                    row[obj]+= '<div class="carousel-item active">'+
                                        '<img src="../img/hotels/'+JSON.parse(Data[obj]).hotelImage[i]+'" class="d-block w-100" alt="...">'+
                                        '</div>';
                }
                else
                {
                    row[obj]+='<div class="carousel-item">'+
                                        '<img src="../img/hotels/'+JSON.parse(Data[obj]).hotelImage[i]+'" class="d-block w-100" alt="...">'+
                                        '</div>';
                }
            }
        row[obj]+='<a class="carousel-control-prev" href="#'+JSON.parse(Data[obj]).hotelName+'" role="button" data-bs-slide="prev">'+
        '<span class="carousel-control-prev-icon" aria-hidden="true"></span>'+
        '<span class="sr-only">Previous</span>'+
        '</a>'+
        '<a class="carousel-control-next" href="#'+JSON.parse(Data[obj]).hotelName+'" role="button" data-bs-slide="next">'+
        '<span class="carousel-control-next-icon" aria-hidden="true"></span>'+
        '<span class="sr-only">Next</span>'+
        '</a></div></div>';

    }
   
    for(obj in Data)
    {
        if(city===JSON.parse(JSON.stringify(JSON.parse(Data[obj]).statecity)).cityName)
        {
            console.log(Data[obj]);
            hoteldata +="<div class='row my-3 border rounded border-dark hotelsclass' onclick='getroom("+obj+")'>"+
                            "<div class='col-sm-5 p-4'>"+
                                row[obj]+
                            "</div>"+
                            "<div class='col-sm-7 p-4'>"+
                            "<h1 class='h1'>"+JSON.parse(Data[obj]).hotelName+"</h1>"+
                            "<div>"+JSON.parse(Data[obj]).address+",</div>"+
                            "<div class='h5'>"+JSON.parse(JSON.stringify(JSON.parse(Data[obj]).statecity)).cityName+","+JSON.parse(JSON.stringify(JSON.parse(Data[obj]).statecity)).stateName+"</div>"+
                            "</div>"+
                        "</div>";
            }
                    //console.log(row[obj]);
    }
   
    document.getElementById('hotels').innerHTML = hoteldata;

});
function getroom(val)
{
    window.location.href = "options.html?state="+state+"&city="+city+"&hotel="+val;
}
function hotelsload()
{
    window.location.href = "rooms.html?state="+JSON.parse(document.getElementById('cities').value).stateName+"&city="+JSON.parse(document.getElementById('cities').value).cityName;
}
if ($(window).width() > 992) {

$(window).scroll(function()
{  
    if ($(this).scrollTop() > 150 ) {
        
        $('#navbar_top').addClass("fixed-top");
        $('#navbar_top').removeClass("d-none");
        //$('body').css('padding-top', $('.navbar').outerHeight() + 'px');
    }
    else
    {
        $('#navbar_top').removeClass("fixed-top");
        $('#navbar_top').addClass("d-none");
        // remove padding top from body
        //$('body').css('padding-top', '0');
    }   
});
} 
</script>

<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.0-beta1/dist/js/bootstrap.bundle.min.js" integrity="sha384-ygbV9kiqUc6oa4msXn9868pTtWMgiQaeYH7/t7LECLbyPA2x65Kgf80OJFdroafW" crossorigin="anonymous"></script>
